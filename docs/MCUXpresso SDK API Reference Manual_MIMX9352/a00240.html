<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>MCUXpresso SDK API Reference Manual: LTC: LP Trusted Cryptography</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="fs_logo.gif"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">MCUXpresso SDK API Reference Manual
   &#160;<span id="projectnumber">Rev 2.15.000</span>
   </div>
   <div id="projectbrief">NXP Semiconductors</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00240.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">LTC: LP Trusted Cryptography</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>The MCUXpresso SDK provides a peripheral driver for the LP Trusted Cryptography (LTC) module of MCUXpresso SDK devices. LP Trusted Cryptography is a set of cryptograhpic hardware accelerator engines that share common registers. LTC architecture can support AES, DES, 3DES, MDHA (SHA), RSA, and ECC. The actual list of implemented cryptograhpic hardware accelerator engines depends on the specific microcontroller.</p>
<p>The driver comprises two sets of API functions.</p>
<p>In the first set, blocking synchronous APIs are provided, for all operations supported by LTC hardware. The LTC operations are complete (and results are made availabe for further usage) when a function returns. When called, these functions do not return until an LTC operation is complete. These functions use main CPU for simple polling loops to determine operation complete or error status and also for plaintext or ciphertext data movements. The driver functions are not re-entrant. These functions provide typical interface to upper layer or application software.</p>
<p>In the second set, DMA support for symmetric LTC processing is provided, for AES and DES engines. APIs in the second set use DMA for data movement to and from the LTC input and output FIFOs. By using these functions, main CPU is not used for plaintext or ciphertext data movements (DMA is used instead). Thus, CPU processing power can be used for other application tasks, at cost of decreased maximum data throughput (because of DMA module and transactions management overhead). These functions provide less typical interface, for applications that must offload main CPU while ciphertext or plaintext is being processed, at cost of longer cryptograhpic processing time.</p>
<h1><a class="anchor" id="LTCInit"></a>
LTC Driver Initialization and Configuration</h1>
<p>LTC Driver is initialized by calling the <a class="el" href="a00240.html#gafea5a60bdbe7129ca5456edd57ed2766" title="Initializes the LTC driver. ">LTC_Init()</a> function, it enables the LTC module clock in the SIM module. If AES or DES engine is used and the LTC module implementation features the LTC DPA Mask Seed register, seed the DPA mask generator by using the seed from a random number generator. The LTC_SetDpaMaskSeed() function is provided to set the DPA mask seed.</p>
<h1><a class="anchor" id="LTCRtos"></a>
Comments about API usage in RTOS</h1>
<p>LTC operations provided by this driver are not re-entrant. Thus, application software shall ensure the LTC module operation is not requested from different tasks or interrupt service routines while an operation is in progress.</p>
<h1><a class="anchor" id="LTCisr"></a>
Comments about API usage in interrupt handler</h1>
<p>All APIs can be used from interrupt handler although execution time shall be considered (interrupt latency of equal and lower priority interrupts increases).</p>
<h1><a class="anchor" id="LTCEx"></a>
LTC Driver Examples</h1>
<h2><a class="anchor" id="LTCSimpleEx"></a>
Simple examples</h2>
<p>Initialize LTC after Power On Reset or reset cycle Refer to the driver examples codes located at &lt;SDK_ROOT&gt;/boards/&lt;BOARD&gt;/driver_examples/ltcEncrypt plaintext by DES engine Refer to the driver examples codes located at &lt;SDK_ROOT&gt;/boards/&lt;BOARD&gt;/driver_examples/ltc Encrypt plaintext by AES engine Refer to the driver examples codes located at &lt;SDK_ROOT&gt;/boards/&lt;BOARD&gt;/driver_examples/ltc Compute keyed hash by AES engine (CMAC) Refer to the driver examples codes located at &lt;SDK_ROOT&gt;/boards/&lt;BOARD&gt;/driver_examples/ltc Compute hash by MDHA engine (SHA-256) Refer to the driver examples codes located at &lt;SDK_ROOT&gt;/boards/&lt;BOARD&gt;/driver_examples/ltc Compute modular integer exponentiation Refer to the driver examples codes located at &lt;SDK_ROOT&gt;/boards/&lt;BOARD&gt;/driver_examples/ltc Compute elliptic curve point multiplication Refer to the driver examples codes located at &lt;SDK_ROOT&gt;/boards/&lt;BOARD&gt;/driver_examples/ltc </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:a00241"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00241.html">LTC Blocking APIs</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00052"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00052.html">LTC Non-blocking eDMA APIs</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafea5a60bdbe7129ca5456edd57ed2766"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00240.html#gafea5a60bdbe7129ca5456edd57ed2766">LTC_Init</a> (LTC_Type *base)</td></tr>
<tr class="memdesc:gafea5a60bdbe7129ca5456edd57ed2766"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the LTC driver.  <a href="#gafea5a60bdbe7129ca5456edd57ed2766">More...</a><br/></td></tr>
<tr class="separator:gafea5a60bdbe7129ca5456edd57ed2766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c347943d2994a658efeb04e2b9a7fcc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00240.html#ga5c347943d2994a658efeb04e2b9a7fcc">LTC_Deinit</a> (LTC_Type *base)</td></tr>
<tr class="memdesc:ga5c347943d2994a658efeb04e2b9a7fcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinitializes the LTC driver.  <a href="#ga5c347943d2994a658efeb04e2b9a7fcc">More...</a><br/></td></tr>
<tr class="separator:ga5c347943d2994a658efeb04e2b9a7fcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Driver version</h2></td></tr>
<tr class="memitem:ga93b946bb00253cca6bbcd81d761a7d58"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00240.html#ga93b946bb00253cca6bbcd81d761a7d58">FSL_LTC_DRIVER_VERSION</a>&#160;&#160;&#160;(<a class="el" href="a00223.html#ga812138aa3315b0c6953c1a26130bcc37">MAKE_VERSION</a>(2, 0, 16))</td></tr>
<tr class="memdesc:ga93b946bb00253cca6bbcd81d761a7d58"><td class="mdescLeft">&#160;</td><td class="mdescRight">LTC driver version.  <a href="#ga93b946bb00253cca6bbcd81d761a7d58">More...</a><br/></td></tr>
<tr class="separator:ga93b946bb00253cca6bbcd81d761a7d58"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga93b946bb00253cca6bbcd81d761a7d58"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSL_LTC_DRIVER_VERSION&#160;&#160;&#160;(<a class="el" href="a00223.html#ga812138aa3315b0c6953c1a26130bcc37">MAKE_VERSION</a>(2, 0, 16))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Version 2.0.16.</p>
<p>Current version: 2.0.16</p>
<p>Change log:</p>
<ul>
<li>Version 2.0.1<ul>
<li>fixed warning during g++ compilation</li>
</ul>
</li>
<li>Version 2.0.2<ul>
<li>fixed [KPSDK-10932][LTC][SHA] <a class="el" href="a00053.html#ga78a23fb22a91c573d844b4b27294f6dc" title="Create HASH on given data. ">LTC_HASH()</a> blocks indefinitely when message size exceeds 4080 bytes</li>
</ul>
</li>
<li>Version 2.0.3<ul>
<li>fixed LTC_PKHA_CompareBigNum() in case an integer argument is an array of all zeroes</li>
</ul>
</li>
<li>Version 2.0.4<ul>
<li>constant LTC_PKHA_CompareBigNum() processing time</li>
</ul>
</li>
<li>Version 2.0.5<ul>
<li>Fix MISRA issues</li>
</ul>
</li>
<li>Version 2.0.6<ul>
<li>fixed [KPSDK-23603][LTC] AES Decrypt in ECB and CBC modes fail when ciphertext size &gt; 0xff0 bytes</li>
</ul>
</li>
<li>Version 2.0.7<ul>
<li>Fix MISRA-2012 issues</li>
</ul>
</li>
<li>Version 2.0.8<ul>
<li>Fix Coverity issues</li>
</ul>
</li>
<li>Version 2.0.9<ul>
<li>Fix sign-compare warning in ltc_set_context and in ltc_get_context</li>
</ul>
</li>
<li>Version 2.0.10<ul>
<li>Fix MISRA-2012 issues</li>
</ul>
</li>
<li>Version 2.0.11<ul>
<li>Fix MISRA-2012 issues</li>
</ul>
</li>
<li>Version 2.0.12<ul>
<li>Fix AES Decrypt in CBC modes fail when used kLTC_DecryptKey.</li>
</ul>
</li>
<li>Version 2.0.13<ul>
<li>Add feature macro FSL_FEATURE_LTC_HAS_NO_CLOCK_CONTROL_BIT into LTC_Init function.</li>
</ul>
</li>
<li>Version 2.0.14<ul>
<li>Add feature macro FSL_FEATURE_LTC_HAS_NO_CLOCK_CONTROL_BIT into LTC_Deinit function.</li>
</ul>
</li>
<li>Version 2.0.15<ul>
<li>Fix MISRA-2012 issues</li>
</ul>
</li>
<li>Version 2.0.16<ul>
<li>Fix unitialized GCC warning in <a class="el" href="a00243.html#ga9d343f750a93c0772e0fca8802b13246" title="Transforms an AES encrypt key (forward AES) into the decrypt key (inverse AES). ">LTC_AES_GenerateDecryptKey()</a> </li>
</ul>
</li>
</ul>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gafea5a60bdbe7129ca5456edd57ed2766"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LTC_Init </td>
          <td>(</td>
          <td class="paramtype">LTC_Type *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function initializes the LTC driver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>LTC peripheral base address </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga5c347943d2994a658efeb04e2b9a7fcc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LTC_Deinit </td>
          <td>(</td>
          <td class="paramtype">LTC_Type *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function deinitializes the LTC driver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>LTC peripheral base address </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul class="foot">
    <li class="footer">&copy; 2016 NXP Semiconductors. All rights reserved.
    </li>
  </ul>
</div>
</body>
</html>
